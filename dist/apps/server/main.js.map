{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./apps/server/src/db/mongodb.ts","webpack:///./apps/server/src/main.ts","webpack:///./apps/server/src/middleware/coachAuthorization.ts","webpack:///./apps/server/src/middleware/createAuthorizationMiddleware.ts","webpack:///./apps/server/src/middleware/studentAuthorization.ts","webpack:///./apps/server/src/routes/ActivityRouter.ts","webpack:///./apps/server/src/routes/CoachRouter.ts","webpack:///./apps/server/src/routes/DayRouter.ts","webpack:///./apps/server/src/routes/StudentRouter.ts","webpack:///./apps/server/src/routes/WeekRouter.ts","webpack:///./apps/server/src/routes/index.ts","webpack:///./apps/server/src/utils/filterActivities.ts","webpack:///./apps/server/src/utils/filterActivitiesForStudent.ts","webpack:///./apps/server/src/utils/filterActivity.ts","webpack:///./apps/server/src/utils/filterActivityForStudent.ts","webpack:///./apps/server/src/utils/getActivityImportanceValue.ts","webpack:///./apps/server/src/utils/getAuthCookie.ts","webpack:///./apps/server/src/utils/getDateStringRangeFromWeek.ts","webpack:///./apps/server/src/utils/getDayScheduleActivities.ts","webpack:///./apps/server/src/utils/getDaysOfCalendarWeek.ts","webpack:///./apps/server/src/utils/getHighPriorityActivityFromGroup.ts","webpack:///./apps/server/src/utils/getTimeRange.ts","webpack:///./apps/server/src/utils/hashPassword.ts","webpack:///./apps/server/src/utils/parseActivitiesFilter.ts","webpack:///./apps/server/src/utils/repeatActivities.ts","webpack:///./apps/server/src/utils/validateActivity.ts","webpack:///./apps/server/src/utils/validateActivityImportance.ts","webpack:///./apps/server/src/utils/validateActivityTime.ts","webpack:///./libs/constants/src/index.ts","webpack:///./libs/constants/src/lib/constants.ts","webpack:///./libs/domains/src/index.ts","webpack:///./libs/domains/src/lib/activity/api.ts","webpack:///./libs/domains/src/lib/activity/index.ts","webpack:///./libs/domains/src/lib/activity/model.ts","webpack:///./libs/domains/src/lib/activity/slice.ts","webpack:///./libs/domains/src/lib/activity/types.ts","webpack:///./libs/domains/src/lib/activity/utils/addActivityToGroup.ts","webpack:///./libs/domains/src/lib/activity/utils/compareActivitiesByTime.ts","webpack:///./libs/domains/src/lib/activity/utils/createActivityFromSchema.ts","webpack:///./libs/domains/src/lib/activity/utils/createSchemaFromActivity.ts","webpack:///./libs/domains/src/lib/activity/utils/groupActivities/groupActivities.ts","webpack:///./libs/domains/src/lib/activity/utils/groupActivities/index.ts","webpack:///./libs/domains/src/lib/activity/utils/groupActivities/makeGroupFromActivity.ts","webpack:///./libs/domains/src/lib/activity/utils/groupActivities/mergeGroups.ts","webpack:///./libs/domains/src/lib/activity/utils/index.ts","webpack:///./libs/domains/src/lib/activity/utils/isTimeCrossed.ts","webpack:///./libs/domains/src/lib/activity/utils/sortActivitiesByTime.ts","webpack:///./libs/domains/src/lib/coach/api.ts","webpack:///./libs/domains/src/lib/coach/index.ts","webpack:///./libs/domains/src/lib/coach/model.ts","webpack:///./libs/domains/src/lib/coach/slice.ts","webpack:///./libs/domains/src/lib/day/api.ts","webpack:///./libs/domains/src/lib/day/index.ts","webpack:///./libs/domains/src/lib/day/slice.ts","webpack:///./libs/domains/src/lib/day/utils/createDayFromSchema.ts","webpack:///./libs/domains/src/lib/day/utils/index.ts","webpack:///./libs/domains/src/lib/student/api.ts","webpack:///./libs/domains/src/lib/student/index.ts","webpack:///./libs/domains/src/lib/student/model.ts","webpack:///./libs/domains/src/lib/student/studentAuthSlice.ts","webpack:///./libs/domains/src/lib/student/studentSlice.ts","webpack:///./libs/domains/src/lib/student/studentsSlice.ts","webpack:///./libs/domains/src/lib/student/types.ts","webpack:///./libs/domains/src/lib/week/api.ts","webpack:///./libs/domains/src/lib/week/index.ts","webpack:///./libs/domains/src/lib/week/slice.ts","webpack:///./libs/domains/src/lib/week/utils/createWeekFromSchema.ts","webpack:///./libs/domains/src/lib/week/utils/createWeekInfoFromSchema.ts","webpack:///./libs/domains/src/lib/week/utils/dateInfoToMoment.ts","webpack:///./libs/domains/src/lib/week/utils/getCurrentDateInfo.ts","webpack:///./libs/domains/src/lib/week/utils/getDateInfoFromMoment.ts","webpack:///./libs/domains/src/lib/week/utils/getDateInfoQuery.ts","webpack:///./libs/domains/src/lib/week/utils/getDaysOfWeek.ts","webpack:///./libs/domains/src/lib/week/utils/index.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/index.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivity.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityEveryDay/index.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityEveryDay/repeatActivityEveryDay.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisMonth/getDayNumbersFromWeek.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisMonth/index.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisMonth/repeatActivityThisMonth.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisWeek/index.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisWeek/repeatActivityThisWeek.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisYear/index.ts","webpack:///./libs/domains/src/lib/week/utils/repeatActivity/repeatActivityThisYear/repeatActivityThisYear.ts","webpack:///./libs/types/src/index.ts","webpack:///./libs/types/src/lib/types.ts","webpack:///./libs/utils/src/index.ts","webpack:///./libs/utils/src/lib/getMinutes.ts","webpack:///./libs/utils/src/lib/index.ts","webpack:///./libs/utils/src/lib/indexOfTimeRange.ts","webpack:///./libs/utils/src/lib/isToday.ts","webpack:///./libs/utils/src/lib/parseDate.ts","webpack:///./libs/utils/src/lib/parseTime.ts","webpack:///./libs/utils/src/lib/pxToNumber.ts","webpack:///./libs/utils/src/lib/serialize.ts","webpack:///./libs/utils/src/lib/stringifyDate.ts","webpack:///./libs/utils/src/lib/stringifyTime.ts","webpack:///external \"@reduxjs/toolkit\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"cors\"","webpack:///external \"crypto\"","webpack:///external \"dotenv\"","webpack:///external \"express\"","webpack:///external \"express-bearer-token\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"moment\"","webpack:///external \"mongoose\"","webpack:///external \"morgan\"","webpack:///external \"path\"","webpack:///external \"tslib\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import mongoose from \"mongoose\";\n\nmongoose.connect(process.env.DB_CONNECTION_STRING || \"\");\n\nexport const db = mongoose.connection;\n\ndb.on(\"error\", console.error.bind(console, \"❌ Connection error:\"));\n\ndb.once(\"open\", () => {\n  console.log(\"Mongo connected 🔌\");\n});\n","import express from \"express\";\nimport BaseRouter from \"./routes\";\nimport cookieParser from \"cookie-parser\";\nimport cors from \"cors\";\nimport bodyParser from \"body-parser\";\nimport bearerToken from \"express-bearer-token\";\nimport \"./db/mongodb\";\nimport morgan from \"morgan\";\nimport path from \"path\";\nimport * as dotenv from \"dotenv\";\n\ndotenv.config();\n\nconst app = express();\n\napp.use(express.json());\napp.use(cookieParser());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bearerToken());\napp.use(cors());\napp.use(morgan(\"tiny\"));\n\napp.use(\"/api\", BaseRouter);\napp.use(express.static(path.join(__dirname, \"../web\")));\napp.use(\"*\", (req, res) => {\n  res.sendFile(path.join(__dirname, \"../web/index.html\"));\n});\n\nconst port = process.env.PORT || 5000;\nconst server = app.listen(port, () => {\n  console.log(`Listening at http://localhost:${port}/api 🚀`);\n});\n\nserver.on(\"error\", console.error);\n","import { CoachModel } from \"@routine-support/domains\";\nimport { createAuthorizationMiddleware } from \"./createAuthorizationMiddleware\";\n\nexport const COACH_LOCALS_NAME = \"coach\";\n\nexport const coachAuthorization = createAuthorizationMiddleware(\n  COACH_LOCALS_NAME,\n  CoachModel\n);\n","import { Request, Response } from \"express\";\nimport * as jwt from \"jsonwebtoken\";\nimport { Model } from \"mongoose\";\nimport { User } from \"../types/User\";\n\nexport const createAuthorizationMiddleware =\n  <T>(authName: string, model: Model<T>) =>\n    (req: Request, res: Response, next: () => unknown) => {\n      const token = req.cookies.access_token;\n\n      if (!token) {\n        return res.sendStatus(403);\n      }\n\n      try {\n        const data = jwt.verify(token, process.env.SECRET_KEY || \"\") as User;\n\n        return model.findById(data._id, (err, result) => {\n          if (err || !result) {\n            res.clearCookie(\"access_token\");\n\n            return res.status(401).send(err);\n          }\n\n          // todo В отдельную функцию\n          res.locals[authName] = result;\n          res.locals[authName]._id = data._id;\n\n          return next();\n        });\n      } catch {\n        return res.sendStatus(403);\n      }\n    };\n","import { StudentModel } from \"@routine-support/domains\";\nimport { createAuthorizationMiddleware } from \"./createAuthorizationMiddleware\";\n\nexport const STUDENT_LOCALS_NAME = \"student\";\n\nexport const studentAuthorization = createAuthorizationMiddleware(\n  STUDENT_LOCALS_NAME,\n  StudentModel\n);\n","import { Router } from \"express\";\nimport { ActivityModel } from \"@routine-support/domains\";\nimport { studentAuthorization } from \"../middleware/studentAuthorization\";\nimport { stringifyDate } from \"@routine-support/utils\";\nimport { validateActivity } from \"../utils/validateActivity\";\nimport moment from \"moment\";\nimport { coachAuthorization } from \"../middleware/coachAuthorization\";\n\nexport const activityRouter = Router();\n\nactivityRouter.get(\"/:id\", coachAuthorization, async (req, res) => {\n  const activity = await ActivityModel.findById(req.params.id);\n\n  if (activity) {\n    res.status(200).send(activity);\n  }\n\n  return res.sendStatus(404);\n});\n\nactivityRouter.post(\"/\", coachAuthorization, async (req, res) => {\n  const validationData = await validateActivity(req.body);\n\n  if (validationData && !validationData.isValid) {\n    return res.status(422).send(validationData);\n  }\n\n  await ActivityModel.create({\n    ...req.body,\n  });\n\n  return res.sendStatus(200);\n});\n\nactivityRouter.put(\"/:id\", coachAuthorization, async (req, res) => {\n  const id = req.params.id;\n\n  const validationData = await validateActivity(req.body);\n\n  if (validationData && !validationData.isValid) {\n    return res.status(422).send(validationData);\n  }\n\n  await ActivityModel.findByIdAndUpdate(id, {\n    ...req.body,\n  });\n\n  return res.sendStatus(200);\n});\n\nactivityRouter.delete(\"/:id\", coachAuthorization, async (req, res) => {\n  const id = req.params.id;\n\n  ActivityModel.findByIdAndDelete(id, (err) => {\n    if (err) return console.log(err);\n\n    return res.sendStatus(200);\n  });\n});\n\nactivityRouter.put(\n  \"/confirm/:id/:timestamp\",\n  studentAuthorization,\n  async (req, res) => {\n    const { id, timestamp } = req.params;\n    const { _id: studentId } = res.locals.student;\n    const dateString = stringifyDate(moment.unix(Number(timestamp)));\n\n    const updatedActivity = await ActivityModel.findById(id);\n\n    // todo resolve type\n    if (!updatedActivity!.confirmation[dateString]) {\n      updatedActivity!.confirmation[dateString] = [];\n    }\n\n    updatedActivity!.confirmation[dateString].push(studentId);\n\n    ActivityModel.findByIdAndUpdate(id, { ...updatedActivity }, (err) => {\n      if (err) {\n        console.log(err);\n\n        return;\n      }\n\n      return res.sendStatus(200);\n    });\n  }\n);\n","import { CoachModel } from \"@routine-support/domains\";\nimport { Router } from \"express\";\nimport {\n  COACH_LOCALS_NAME,\n  coachAuthorization,\n} from \"../middleware/coachAuthorization\";\nimport { getAuthCookie } from \"../utils/getAuthCookie\";\nimport { hashPassword } from \"../utils/hashPassword\";\n\nexport const coachRouter = Router();\n\ncoachRouter.post(\"/\", async (req, res) => {\n  const { password, ...data } = req.body;\n\n  CoachModel.create(\n    { ...data, password: hashPassword(password) },\n    (err, result) => {\n      if (err) {\n        console.log(err);\n\n        return;\n      }\n\n      const cookie = getAuthCookie(result);\n\n      return res.status(200).cookie(cookie.name, cookie.token).send(result);\n    }\n  );\n});\n\ncoachRouter.post(\"/login\", async (req, res) => {\n  const { email, password } = req.body;\n\n  CoachModel.findOne(\n    { email, password: hashPassword(password) },\n    (err, result) => {\n      if (err || !result) {\n        return res.status(401).send(err);\n      }\n\n      const cookie = getAuthCookie(result);\n\n      return res.status(200).cookie(cookie.name, cookie.token).send(result);\n    }\n  );\n});\n\ncoachRouter.get(\"/\", coachAuthorization, (__, res) => {\n  return res.status(200).send(res.locals[COACH_LOCALS_NAME]);\n});\n\ncoachRouter.get(\"/logout\", (__, res) => {\n  return res.clearCookie(\"access_token\").sendStatus(200);\n});\n","import {\n  ActivityModel,\n  createActivityFromSchema,\n  createSchemaFromActivity,\n} from \"@routine-support/domains\";\nimport { Router } from \"express\";\nimport { getDayScheduleActivities } from \"../utils/getDayScheduleActivities\";\nimport { filterActivitiesForStudent } from \"../utils/filterActivitiesForStudent\";\n\nexport const dayRouter = Router();\n\ndayRouter.get(\"/:date\", async (req, res) => {\n  const { date } = req.params;\n  const studentId = res.locals.student._id;\n\n  const activities = await ActivityModel.find({ date }).lean();\n\n  const studentActivities = filterActivitiesForStudent(activities, {\n    _id: studentId,\n  });\n\n  const parsedActivities = studentActivities.map(createActivityFromSchema);\n  const dayScheduleActivities = getDayScheduleActivities(parsedActivities);\n\n  return res.status(200).send({\n    date,\n    activities: dayScheduleActivities.map(createSchemaFromActivity),\n  });\n});\n","import { ActivityModel, StudentModel } from \"@routine-support/domains\";\nimport { Router } from \"express\";\nimport { coachAuthorization } from \"../middleware/coachAuthorization\";\nimport {\n  STUDENT_LOCALS_NAME,\n  studentAuthorization,\n} from \"../middleware/studentAuthorization\";\nimport { getAuthCookie } from \"../utils/getAuthCookie\";\n\nexport const studentRouter = Router();\n\nstudentRouter.post(\"/\", coachAuthorization, async (req, res) => {\n  StudentModel.create({ ...req.body }, (err, result) => {\n    if (err) {\n      console.log(err);\n\n      return;\n    }\n\n    return res.status(200).send(result);\n  });\n});\n\nstudentRouter.post(\"/login\", (req, res) => {\n  StudentModel.findById(req.body.id, (err, result) => {\n    if (err || !result) {\n      return res.status(401).send(err);\n    }\n\n    const cookie = getAuthCookie(result);\n\n    return res.status(200).cookie(cookie.name, cookie.token).send(result);\n  });\n});\n\nstudentRouter.get(\"/logout\", (__, res) => {\n  return res.clearCookie(\"access_token\").sendStatus(200);\n});\n\nstudentRouter.get(\"/\", studentAuthorization, (__, res) => {\n  return res.status(200).send(res.locals[STUDENT_LOCALS_NAME]);\n});\n\nstudentRouter.delete(\"/:id\", async (req, res) => {\n  const studentId = req.params.id;\n\n  await StudentModel.findByIdAndDelete(studentId);\n\n  const studentsActivities = await ActivityModel.find({\n    students: { $in: [studentId] },\n  }).lean();\n\n  studentsActivities.forEach(({ _id: activityId, students }) => {\n    const filteredStudents = students.filter((id) => id !== studentId);\n    const shouldDeleteStudentActivity = !filteredStudents.length;\n\n    if (shouldDeleteStudentActivity) {\n      ActivityModel.findByIdAndDelete(activityId);\n    } else {\n      ActivityModel.findByIdAndUpdate(activityId, {\n        students: filteredStudents,\n      });\n    }\n  });\n\n  res.sendStatus(200);\n});\n\nstudentRouter.put(\"/:id\", (req, res) => {\n  const id = req.params.id;\n\n  StudentModel.findByIdAndUpdate(\n    id,\n    {\n      ...req.body,\n    },\n    (err) => {\n      if (err) {\n        console.log(err);\n\n        return;\n      }\n\n      res.sendStatus(200);\n    }\n  );\n});\n\nstudentRouter.get(\"/coach/:id\", coachAuthorization, (req, res) => {\n  StudentModel.find({ coachId: req.params.id }, (err, result) => {\n    if (err) {\n      return res.status(401).send(err);\n    }\n\n    return res.status(200).send(result);\n  });\n});\n","import {\n  ActivityModel,\n  getDaysOfWeek,\n  RepeatTypeEnum,\n} from \"@routine-support/domains\";\nimport { Router } from \"express\";\nimport { filterActivities } from \"../utils/filterActivities\";\nimport { getDateStringRangeFromWeek } from \"../utils/getDateStringRangeFromWeek\";\nimport { getTimeRange } from \"../utils/getTimeRange\";\nimport { getDaysOfCalendarWeek } from \"../utils/getDaysOfCalendarWeek\";\nimport { parseActivitiesFilter } from \"../utils/parseActivitiesFilter\";\nimport { repeatActivities } from \"../utils/repeatActivities\";\nimport { COACH_LOCALS_NAME } from \"../middleware/coachAuthorization\";\n\nexport const weekRouter = Router();\n\nweekRouter.get(\"/:year/:week\", async (req, res) => {\n  const year = Number(req.params.year);\n  const week = Number(req.params.week);\n  const currentWeek = getDaysOfWeek({ year, week });\n\n  const { filter } = req.query;\n  const parsedFilter = parseActivitiesFilter(filter as string);\n\n  let activitiesWithoutRepeat = await ActivityModel.find({\n    coachId: res.locals[COACH_LOCALS_NAME]._id,\n    repeatType: RepeatTypeEnum.None,\n  }).lean();\n\n  activitiesWithoutRepeat = filterActivities(\n    activitiesWithoutRepeat,\n    parsedFilter\n  );\n\n  let activitiesWithRepeat = await ActivityModel.find({\n    coachId: res.locals[COACH_LOCALS_NAME]._id,\n    repeatType: { $gt: RepeatTypeEnum.None },\n  }).lean();\n\n  activitiesWithRepeat = filterActivities(activitiesWithRepeat, parsedFilter);\n  activitiesWithRepeat = repeatActivities(activitiesWithRepeat, currentWeek);\n\n  res.status(200).send({\n    days: getDaysOfCalendarWeek(\n      [...activitiesWithoutRepeat, ...activitiesWithRepeat],\n      { week, year }\n    ),\n    year,\n    week,\n    weekInfo: {\n      days: getDateStringRangeFromWeek({ week, year }),\n      timeRange: getTimeRange(),\n    },\n  });\n});\n","import { Router } from \"express\";\nimport { coachAuthorization } from \"../middleware/coachAuthorization\";\nimport { studentAuthorization } from \"../middleware/studentAuthorization\";\n\nimport { activityRouter } from \"./ActivityRouter\";\nimport { dayRouter } from \"./DayRouter\";\nimport { studentRouter } from \"./StudentRouter\";\nimport { coachRouter } from \"./CoachRouter\";\nimport { weekRouter } from \"./WeekRouter\";\n\n// Init router and path\nconst router = Router();\n\n// Add sub-routes\nrouter.use(\"/activity\", activityRouter);\nrouter.use(\"/week\", coachAuthorization, weekRouter);\nrouter.use(\"/day\", studentAuthorization, dayRouter);\nrouter.use(\"/coach\", coachRouter);\nrouter.use(\"/student\", studentRouter);\n\nexport default router;\n","import { ActivityFilterQuery, ActivitySchema } from \"@routine-support/domains\";\nimport { filterActivity } from \"./filterActivity\";\n\nexport const filterActivities = (\n  activities: ActivitySchema[],\n  filter: ActivityFilterQuery = []\n): ActivitySchema[] => {\n  return activities.filter((activity) => filterActivity(activity, filter));\n};\n","import { ActivitySchema, Student } from \"@routine-support/domains\";\nimport { filterActivityForStudent } from \"./filterActivityForStudent\";\n\nexport const filterActivitiesForStudent = (\n  activities: ActivitySchema[],\n  student: Pick<Student, \"_id\">\n): ActivitySchema[] => {\n  return activities.filter((activity) =>\n    filterActivityForStudent(activity, student)\n  );\n};\n","import { ActivityFilterQuery, ActivitySchema } from \"@routine-support/domains\";\n\nexport const filterActivity = (\n  activity: ActivitySchema,\n  filter: ActivityFilterQuery = []\n): boolean => {\n  const isCommonActivity =\n    !activity.students.length && filter.includes(\"common\");\n\n  if (isCommonActivity) {\n    return true;\n  }\n\n  if (activity.students) {\n    for (const student of activity.students) {\n      if (filter.includes(student)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","import { ActivitySchema, Student } from \"@routine-support/domains\";\n\nexport const filterActivityForStudent = (\n  activity: ActivitySchema,\n  student: Pick<Student, \"_id\">\n): boolean => {\n  if (activity.isCommon) {\n    return true;\n  }\n\n  return activity.students.includes(student._id);\n};\n","import { Activity, RepeatTypeEnum } from \"@routine-support/domains\";\n\nexport const getActivityImportanceValue = (activity: Activity): number => {\n  let importanceValue = 0;\n\n  if (activity.isImportant) {\n    return 64;\n  }\n\n  switch (activity.repeatType) {\n    case RepeatTypeEnum.None: {\n      importanceValue = 31;\n      break;\n    }\n    case RepeatTypeEnum.EveryYear: {\n      importanceValue = 15;\n      break;\n    }\n    case RepeatTypeEnum.EveryMonth: {\n      importanceValue = 7;\n      break;\n    }\n    case RepeatTypeEnum.EveryWeek: {\n      importanceValue = 3;\n      break;\n    }\n    case RepeatTypeEnum.EveryDay: {\n      importanceValue = 1;\n      break;\n    }\n  }\n\n  if (!activity.isCommon) {\n    importanceValue *= 2;\n  }\n\n  return importanceValue;\n};\n","import * as jwt from \"jsonwebtoken\";\nimport { User } from \"../types/User\";\n\nexport const getAuthCookie = (user: User): { name: string; token: string } => {\n  return {\n    name: \"access_token\",\n    token: jwt.sign(JSON.stringify(user), process.env.SECRET_KEY || \"\"),\n  };\n};\n","import { getDaysOfWeek } from \"@routine-support/domains\";\nimport { DateString } from \"@routine-support/types\";\nimport { stringifyDate } from \"@routine-support/utils\";\n\nexport const getDateStringRangeFromWeek = (weekInfo: {\n  week: number;\n  year: number;\n}): DateString[] => {\n  const daysOfWeek = getDaysOfWeek(weekInfo);\n\n  return daysOfWeek.map(stringifyDate);\n};\n","import {\n  Activity,\n  groupActivities,\n  sortActivitiesByTime,\n} from \"@routine-support/domains\";\nimport { getHighPriorityActivityFromGroup } from \"./getHighPriorityActivityFromGroup\";\n\nexport const getDayScheduleActivities = (\n  activities: Activity[]\n): Activity[] => {\n  const groups = groupActivities(activities);\n\n  const unsortedScheduleActivities: Activity[] = [];\n\n  groups.forEach((group) => {\n    const activity = getHighPriorityActivityFromGroup(group);\n\n    if (activity) {\n      unsortedScheduleActivities.push(activity);\n    }\n  });\n\n  return sortActivitiesByTime(unsortedScheduleActivities);\n};\n","import { ActivitySchema, DateInfo, DaySchema } from \"@routine-support/domains\";\nimport { DateString } from \"@routine-support/types\";\nimport { getDateStringRangeFromWeek } from \"./getDateStringRangeFromWeek\";\n\nexport function getDaysOfCalendarWeek(\n  activities: ActivitySchema[],\n  weekInfo: DateInfo\n): DaySchema[] {\n  const daysOfWeek = getDateStringRangeFromWeek(weekInfo);\n\n  const daysOfCalendarWeek = daysOfWeek.map((day) => {\n    const calendarDay: {\n      date: DateString;\n      activities: ActivitySchema[];\n    } = {\n      date: day,\n      activities: [],\n    };\n\n    calendarDay.activities = activities.filter(\n      (activity) => activity?.date === calendarDay.date\n    );\n\n    return calendarDay;\n  });\n\n  return daysOfCalendarWeek;\n}\n","import { ActivitiesGroup, Activity } from \"@routine-support/domains\";\nimport { getActivityImportanceValue } from \"./getActivityImportanceValue\";\n\nexport const getHighPriorityActivityFromGroup = (\n  group: ActivitiesGroup\n): Activity | undefined => {\n  const maxImportance = Math.max(\n    ...group.activities.map((activity) => getActivityImportanceValue(activity))\n  );\n\n  const firstMaxImportant = group.activities.find(\n    (activity) => getActivityImportanceValue(activity) === maxImportance\n  );\n\n  return firstMaxImportant;\n};\n","import { TimeString } from \"@routine-support/types\";\n\nexport const getTimeRange = (): TimeString[] => [\n  \"0:00\",\n  \"1:00\",\n  \"2:00\",\n  \"3:00\",\n  \"4:00\",\n  \"5:00\",\n  \"6:00\",\n  \"7:00\",\n  \"8:00\",\n  \"9:00\",\n  \"10:00\",\n  \"11:00\",\n  \"12:00\",\n  \"13:00\",\n  \"14:00\",\n  \"15:00\",\n  \"16:00\",\n  \"17:00\",\n  \"18:00\",\n  \"19:00\",\n  \"20:00\",\n  \"21:00\",\n  \"22:00\",\n  \"23:00\",\n];\n","import crypto from \"crypto\";\n\nexport const hashPassword = (password: string): string => {\n  return crypto\n    .createHmac(\"sha256\", process.env.SECRET_KEY || \"\")\n    .update(password)\n    .digest(\"hex\");\n};\n","import { ActivityFilterQuery } from \"@routine-support/domains\";\n\nexport const parseActivitiesFilter = (filter = \"\"): ActivityFilterQuery => {\n  return filter?.split(\",\");\n};\n","import {\n  Activity,\n  ActivitySchema,\n  createActivityFromSchema,\n  createSchemaFromActivity,\n  repeatActivity,\n} from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\n\nexport const repeatActivities = (\n  activities: ActivitySchema[],\n  currentWeek: Moment[]\n): ActivitySchema[] => {\n  let repeatedActivities: Activity[] = [];\n\n  activities.map(createActivityFromSchema).forEach((activity) => {\n    const repeatedActivity = repeatActivity(activity, currentWeek);\n\n    if (repeatedActivity) {\n      repeatedActivities = repeatedActivities.concat(repeatedActivity);\n    }\n  });\n\n  return repeatedActivities.map(createSchemaFromActivity);\n};\n","import { ActivitySchema } from \"@routine-support/domains\";\nimport { SubmitErrorData } from \"@routine-support/types\";\nimport { validateActivityImportance } from \"./validateActivityImportance\";\nimport { validateActivityTime } from \"./validateActivityTime\";\n\nexport const validateActivity = async (\n  activity: ActivitySchema\n): Promise<SubmitErrorData | undefined> => {\n  try {\n    validateActivityTime(activity);\n\n    await validateActivityImportance(activity);\n\n    return;\n  } catch (error) {\n    return error;\n  }\n};\n","import {\n  ActivityModel,\n  ActivitySchema,\n  createActivityFromSchema,\n  isTimeCrossed,\n} from \"@routine-support/domains\";\nimport { SubmitErrorData } from \"@routine-support/types\";\n\nexport const validateActivityImportance = async (\n  activity: ActivitySchema\n): Promise<SubmitErrorData | undefined> => {\n  if (activity.isImportant) {\n    const importantActivitySameDay = await ActivityModel.findOne({\n      date: activity.date,\n      isImportant: true,\n    });\n\n    if (\n      importantActivitySameDay &&\n      isTimeCrossed(\n        createActivityFromSchema(activity),\n        createActivityFromSchema(importantActivitySameDay)\n      )\n    ) {\n      throw {\n        isValid: false,\n        error: \"Important activity this day already exists\",\n      };\n    }\n\n    return;\n  }\n\n  return;\n};\n","import { ActivitySchema } from \"@routine-support/domains\";\nimport { FormError, SubmitErrorData } from \"@routine-support/types\";\nimport { parseTime } from \"@routine-support/utils\";\n\nexport const validateActivityTime = (\n  activity: ActivitySchema\n): SubmitErrorData => {\n  const startTime = parseTime(activity.start);\n  const endTime = parseTime(activity.end);\n\n  if (startTime >= endTime) {\n    const endError: FormError = {\n      name: \"end\",\n      message: \"Invalid time\",\n    };\n\n    throw { isValid: false, errors: [endError] };\n  }\n\n  return { isValid: true };\n};\n","export * from \"./lib/constants\";\n","export const DATE_FORMAT = \"DD.MM.YYYY\";\n\nexport const TIME_FORMAT = \"HH:mm\";\n","export * from \"./lib/activity\";\nexport * from \"./lib/week\";\nexport * from \"./lib/day\";\nexport * from \"./lib/coach\";\nexport * from \"./lib/student\";\n","import { Id } from \"@routine-support/types\";\nimport { AxiosInstance, AxiosResponse } from \"axios\";\nimport { Activity } from \"./types\";\nimport { createSchemaFromActivity } from \"./utils\";\n\nexport const createActivityAPI = (client: AxiosInstance) => ({\n  createActivity: async (data: Activity): Promise<AxiosResponse> => {\n    const request: AxiosResponse = await client.post(\n      \"/activity\",\n      createSchemaFromActivity(data)\n    );\n\n    return request;\n  },\n  updateActivity: async (activity: Activity): Promise<AxiosResponse> => {\n    const request: AxiosResponse = await client.put(\n      `/activity/${activity._id}`,\n      createSchemaFromActivity(activity)\n    );\n\n    return request;\n  },\n  deleteActivity: async (id: Id): Promise<AxiosResponse> => {\n    const request: AxiosResponse = await client.delete(`/activity/${id}`);\n\n    return request;\n  },\n  confirmActivity: async ({ id, timestamp }: { id: Id; timestamp: number }) => {\n    const request: AxiosResponse = await client.put(\n      `/activity/confirm/${id}/${timestamp}`\n    );\n\n    return request;\n  },\n});\n","export * from \"./api\";\nexport * from \"./model\";\nexport * from \"./slice\";\nexport * from \"./types\";\nexport * from \"./utils\";\n","import { model, Schema } from \"mongoose\";\nimport { ActivitySchema, RepeatTypeEnum } from \"./types\";\n\nconst activitySchema = new Schema(\n  {\n    name: {\n      type: String,\n      required: true,\n    },\n    pictogram: {\n      type: String,\n      required: true,\n    },\n    date: {\n      type: String,\n      required: true,\n    },\n    start: {\n      type: String,\n      required: true,\n    },\n    end: {\n      type: String,\n      required: true,\n    },\n    coachId: {\n      type: Schema.Types.ObjectId,\n      required: true,\n    },\n    repeatType: {\n      type: Number,\n      required: true,\n      default: RepeatTypeEnum.None,\n    },\n    isCommon: {\n      type: Schema.Types.Boolean,\n      required: true,\n      default: false,\n    },\n    isImportant: {\n      type: Schema.Types.Boolean,\n      required: true,\n      default: false,\n    },\n    students: {\n      type: Schema.Types.Array,\n      default: [],\n    },\n    confirmation: {\n      type: Schema.Types.Mixed,\n      default: {},\n    },\n  },\n  { versionKey: false, minimize: false }\n);\n\nexport const ActivityModel = model<ActivitySchema>(\"activity\", activitySchema);\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { Activity } from \"./types\";\n\nexport interface ActivityState {\n  activity: Partial<Activity> | null;\n}\n\nconst initialState: ActivityState = {\n  activity: null,\n};\n\nexport const activitySlice = createSlice({\n  name: \"activity\",\n  initialState,\n  reducers: {\n    setActivity: (state, action: PayloadAction<Partial<Activity> | null>) => {\n      state.activity = action.payload;\n    },\n  },\n});\n\nexport const activityActions = activitySlice.actions;\nexport const activityReducer = activitySlice.reducer;\n","import { Moment } from \"moment\";\nimport { DateString, Id, ImageUrl, TimeString } from \"@routine-support/types\";\n\nexport type ActivityName = string;\n\nexport enum RepeatTypeEnum {\n  None,\n  EveryDay,\n  EveryWeek,\n  EveryMonth,\n  EveryYear,\n}\n\nexport type Activity = {\n  _id: Id;\n  coachId: Id;\n  name: ActivityName;\n  pictogram: ImageUrl;\n  date: Moment;\n  start: Moment;\n  end: Moment;\n  repeatType: RepeatTypeEnum;\n  isCommon: boolean;\n  isImportant: boolean;\n  students: Id[];\n  confirmation: ConfirmationInfo;\n};\n\nexport type ActivitySchema = {\n  _id: Id;\n  coachId: Id;\n  name: ActivityName;\n  pictogram: ImageUrl;\n  date: DateString;\n  start: TimeString;\n  end: TimeString;\n  repeatType: RepeatTypeEnum;\n  isCommon: boolean;\n  isImportant: boolean;\n  students: Id[];\n  confirmation: ConfirmationInfo;\n};\n\nexport type ConfirmationInfo = {\n  [key in DateString]: Id[];\n};\n\nexport interface ActivitiesGroup {\n  start: Moment;\n  end: Moment;\n  activities: Activity[];\n}\n","import { ActivitiesGroup, Activity } from \"@routine-support/domains\";\n\nexport const addActivityToGroup = (\n  group: ActivitiesGroup,\n  activity: Activity\n) => {\n  const shouldUpdateStart = activity.start <= group.start;\n  const shouldUpdateEnd = activity.end >= group.end;\n\n  if (shouldUpdateStart) {\n    group.start = activity.start.clone();\n  }\n\n  if (shouldUpdateEnd) {\n    group.end = activity.end.clone();\n  }\n\n  group.activities.push(activity);\n\n  return group;\n};\n","import { Activity } from \"@routine-support/domains\";\n\nexport const compareActivitiesByTime = (a: Activity, b: Activity): number => {\n  return a.start.unix() - b.start.unix();\n};\n","import { Activity, ActivitySchema } from \"@routine-support/domains\";\nimport { parseDate, parseTime } from \"@routine-support/utils\";\n\nexport const createActivityFromSchema = (\n  activitySchema: ActivitySchema\n): Activity => {\n  return {\n    ...activitySchema,\n    date: parseDate(activitySchema.date),\n    start: parseTime(activitySchema.start),\n    end: parseTime(activitySchema.end),\n  };\n};\n","import { Activity, ActivitySchema } from \"@routine-support/domains\";\nimport { stringifyDate, stringifyTime } from \"@routine-support/utils\";\n\nexport const createSchemaFromActivity = (\n  activity: Activity\n): ActivitySchema => {\n  return {\n    ...activity,\n    date: stringifyDate(activity.date),\n    start: stringifyTime(activity.start),\n    end: stringifyTime(activity.end),\n  };\n};\n","import {\n  ActivitiesGroup,\n  Activity,\n  isTimeCrossed,\n} from \"@routine-support/domains\";\nimport { addActivityToGroup } from \"../addActivityToGroup\";\n\nimport { makeGroupFromActivity } from \"./makeGroupFromActivity\";\nimport { mergeGroups } from \"./mergeGroups\";\n\nexport const groupActivities = (\n  activities: Activity[] = []\n): ActivitiesGroup[] => {\n  let groups: ActivitiesGroup[] = [];\n\n  activities.forEach((activity) => {\n    const groupsOfActivity = groups.filter((group) =>\n      isTimeCrossed(group, activity)\n    );\n    const otherGroups = groups.filter(\n      (group) => !isTimeCrossed(group, activity)\n    );\n    const shouldMergeGroups = groupsOfActivity.length > 1;\n    const groupOfActivity = groupsOfActivity[0];\n\n    if (shouldMergeGroups) {\n      const mergedGroup = mergeGroups(groupsOfActivity);\n\n      groups = [...otherGroups, mergedGroup];\n\n      return;\n    }\n\n    if (groupOfActivity) {\n      addActivityToGroup(groupOfActivity, activity);\n    } else {\n      const newGroup = makeGroupFromActivity(activity);\n\n      groups.push(newGroup);\n    }\n  });\n\n  return groups;\n};\n","export { groupActivities } from \"./groupActivities\";\n","import { ActivitiesGroup, Activity } from \"@routine-support/domains\";\n\nexport const makeGroupFromActivity = (activity: Activity): ActivitiesGroup => {\n  const group: ActivitiesGroup = {\n    start: activity.start,\n    end: activity.end,\n    activities: [activity],\n  };\n\n  return group;\n};\n","import { ActivitiesGroup } from \"@routine-support/domains\";\n\nimport { addActivityToGroup } from \"../addActivityToGroup\";\n\nexport const mergeGroups = (groups: ActivitiesGroup[]) => {\n  const baseGroup = groups[0];\n\n  for (let i = 1; i < groups.length; i++) {\n    groups[i].activities.forEach((activity) =>\n      addActivityToGroup(baseGroup, activity)\n    );\n  }\n\n  return baseGroup;\n};\n","export { addActivityToGroup } from \"./addActivityToGroup\";\nexport { createActivityFromSchema } from \"./createActivityFromSchema\";\nexport { createSchemaFromActivity } from \"./createSchemaFromActivity\";\nexport { groupActivities } from \"./groupActivities\";\nexport { isTimeCrossed } from \"./isTimeCrossed\";\nexport { sortActivitiesByTime } from \"./sortActivitiesByTime\";\n","import { Moment } from \"moment\";\n\nexport const isTimeCrossed = (\n  time1: { start: Moment; end: Moment },\n  time2: { start: Moment; end: Moment }\n): boolean => {\n  const isTime1StartInTime2Period =\n    time2.start <= time1.start && time1.start < time2.end;\n  const isTime1EndInTime2Period =\n    time2.start < time1.end && time1.end <= time2.end;\n\n  const isTime2StartInTime1Period =\n    time1.start <= time2.start && time2.start < time1.end;\n  const isTime2EndInTime1Period =\n    time1.start < time2.end && time2.end <= time1.end;\n\n  return (\n    isTime1StartInTime2Period ||\n    isTime1EndInTime2Period ||\n    isTime2StartInTime1Period ||\n    isTime2EndInTime1Period\n  );\n};\n","import { Activity } from \"@routine-support/domains\";\nimport { compareActivitiesByTime } from \"./compareActivitiesByTime\";\n\nexport const sortActivitiesByTime = (activities: Activity[]): Activity[] => {\n  return activities.sort((a, b) => compareActivitiesByTime(a, b));\n};\n","import { AxiosInstance, AxiosResponse } from \"axios\";\nimport {\n  Coach,\n  LoginCoachDto,\n  RegisterCoachDto,\n  UpdateCoachDto,\n} from \"./types\";\n\nexport const createCoachAPI = (client: AxiosInstance) => ({\n  login: async (data: LoginCoachDto): Promise<Coach> => {\n    const request: AxiosResponse<Coach> = await client.post(\n      \"/coach/login\",\n      data\n    );\n\n    return request.data as Coach;\n  },\n  logout: async () => {\n    const request: AxiosResponse = await client.get(\"/coach/logout\");\n\n    return request.data;\n  },\n  register: async (data: RegisterCoachDto): Promise<Coach> => {\n    const request: AxiosResponse<Coach> = await client.post(\"/coach\", data);\n\n    return request.data as Coach;\n  },\n  getCoach: async (): Promise<Coach> => {\n    const request: AxiosResponse<Coach> = await client.get(\"/coach\");\n\n    return request.data as Coach;\n  },\n  updateCoach: async (data: UpdateCoachDto): Promise<Coach> => {\n    const request: AxiosResponse<Coach> = await client.put(\"/coach\", data);\n\n    return request.data as Coach;\n  },\n});\n","export * from \"./api\";\nexport * from \"./model\";\nexport * from \"./slice\";\nexport * from \"./types\";\n","import { model, Schema } from \"mongoose\";\nimport { Coach } from \"./types\";\n\nconst coachSchema = new Schema(\n  {\n    name: {\n      type: String,\n      required: true,\n    },\n    email: {\n      type: String,\n      required: true,\n      unique: true,\n    },\n    password: {\n      type: String,\n      required: true,\n      select: false,\n    },\n  },\n  { versionKey: false }\n);\n\nexport const CoachModel = model<Coach>(\"coach\", coachSchema);\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Coach } from \"./types\";\n\nexport interface CoachState {\n  coach: Coach | null;\n  isLogged: boolean;\n}\n\nconst initialState: CoachState = {\n  coach: null,\n  isLogged: false,\n};\n\nexport const coachSlice = createSlice({\n  name: \"coach\",\n  initialState,\n  reducers: {\n    setCoach: (state, action: PayloadAction<Coach | null>) => {\n      state.coach = action.payload;\n      state.isLogged = !!action.payload;\n    },\n  },\n});\n\nexport const coachActions = coachSlice.actions;\nexport const coachReducer = coachSlice.reducer;\n","import { createDayFromSchema } from \"@routine-support/domains\";\nimport { DateString } from \"@routine-support/types\";\nimport { AxiosInstance, AxiosResponse } from \"axios\";\nimport { Day, DaySchema } from \"./types\";\n\nexport const createDayAPI = (client: AxiosInstance) => ({\n  getDay: async (date: DateString): Promise<Day> => {\n    const response: AxiosResponse<DaySchema> = await client.get(`/day/${date}`);\n\n    return createDayFromSchema(response.data);\n  },\n});\n","export * from \"./api\";\nexport * from \"./slice\";\nexport * from \"./types\";\nexport * from \"./utils\";\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { Day } from \"./types\";\n\nexport interface DayState {\n  day: Day | null;\n}\n\nconst initialState: DayState = {\n  day: null,\n};\n\nexport const daySlice = createSlice({\n  name: \"day\",\n  initialState,\n  reducers: {\n    setDay: (state, action: PayloadAction<Day>) => {\n      state.day = action.payload;\n    },\n  },\n});\n\nexport const dayActions = daySlice.actions;\nexport const dayReducer = daySlice.reducer;\n","import {\n  createActivityFromSchema,\n  Day,\n  DaySchema,\n} from \"@routine-support/domains\";\nimport { parseDate } from \"@routine-support/utils\";\n\nexport const createDayFromSchema = (daySchema: DaySchema): Day => {\n  const day: Day = {\n    date: parseDate(daySchema.date),\n    activities: daySchema.activities.map(createActivityFromSchema),\n  };\n\n  return day;\n};\n","export { createDayFromSchema } from \"./createDayFromSchema\";\n","import { Id } from \"@routine-support/types\";\nimport { AxiosInstance, AxiosResponse } from \"axios\";\nimport { CoachId, CreateStudentDto, LoginStudentDto, Student } from \"./types\";\n\nexport const createStudentAPI = (client: AxiosInstance) => ({\n  login: async (data: LoginStudentDto): Promise<Student> => {\n    const request: AxiosResponse<Student> = await client.post(\n      \"/student/login\",\n      data\n    );\n\n    return request.data as Student;\n  },\n  logout: async () => {\n    const request: AxiosResponse = await client.get(\"/student/logout\");\n\n    return request.data;\n  },\n  getStudent: async (): Promise<Student> => {\n    const request: AxiosResponse<Student> = await client.get(\"/student\");\n\n    return request.data as Student;\n  },\n  createStudent: async (data: CreateStudentDto) => {\n    const request: AxiosResponse<Student> = await client.post(\"/student\", data);\n\n    return request;\n  },\n  updateStudent: async ({ _id, ...data }: Student): Promise<Student> => {\n    const request: AxiosResponse<Student> = await client.put(\n      `/student/${_id}`,\n      data\n    );\n\n    return request.data as Student;\n  },\n  deleteStudent: async (id: Id): Promise<AxiosResponse> => {\n    const request = await client.delete(`/student/${id}`);\n\n    return request;\n  },\n  getStudents: async (coachId: CoachId): Promise<Student[]> => {\n    const request: AxiosResponse<Student[]> = await client.get(\n      `/student/coach/${coachId}`\n    );\n\n    return request.data as Student[];\n  },\n});\n","export * from \"./api\";\nexport * from \"./model\";\nexport * from \"./studentSlice\";\nexport * from \"./studentAuthSlice\";\nexport * from \"./studentsSlice\";\nexport * from \"./types\";\n","import { LanguageEnum } from \"@routine-support/types\";\nimport { model, Schema } from \"mongoose\";\nimport { ClockTypeEnum, ColorEnum, Student } from \"./types\";\n\nconst studentSchema = new Schema(\n  {\n    name: {\n      type: String,\n      required: true,\n    },\n    coachId: {\n      type: Schema.Types.ObjectId,\n      required: true,\n    },\n    color: {\n      type: Number,\n      required: true,\n      default: ColorEnum.Purple,\n    },\n    pinCode: {\n      type: String,\n      required: true,\n      default: \"0000\",\n    },\n    clockType: {\n      type: Number,\n      required: true,\n      default: ClockTypeEnum.Analog,\n    },\n    language: {\n      type: String,\n      required: true,\n      default: LanguageEnum.En,\n    },\n  },\n  { versionKey: false }\n);\n\nexport const StudentModel = model<Student>(\"student\", studentSchema);\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Student } from \"./types\";\n\nexport interface StudentAuthState {\n  student: Student | null;\n  isLogged: boolean;\n}\n\nconst initialState: StudentAuthState = {\n  student: null,\n  isLogged: false,\n};\n\nexport const studentAuthSlice = createSlice({\n  name: \"student\",\n  initialState,\n  reducers: {\n    setStudent: (state, action: PayloadAction<Student | null>) => {\n      state.student = action.payload;\n      state.isLogged = Boolean(action.payload?._id);\n    },\n  },\n});\n\nexport const studentAuthActions = studentAuthSlice.actions;\nexport const studentAuthReducer = studentAuthSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Student } from \"./types\";\n\nexport interface StudentState {\n  student: Partial<Student> | null;\n}\n\nconst initialState: StudentState = {\n  student: null,\n};\n\nexport const studentSlice = createSlice({\n  name: \"student\",\n  initialState,\n  reducers: {\n    setStudent: (state, action: PayloadAction<Partial<Student> | null>) => {\n      state.student = action.payload;\n    },\n  },\n});\n\nexport const studentActions = studentSlice.actions;\nexport const studentReducer = studentSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Student } from \"./types\";\n\nexport interface StudentsState {\n  students: Student[];\n}\n\nconst initialState: StudentsState = {\n  students: [],\n};\n\nexport const studentsSlice = createSlice({\n  name: \"students\",\n  initialState,\n  reducers: {\n    setStudents: (state, action: PayloadAction<Student[]>) => {\n      state.students = action.payload;\n    },\n  },\n});\n\nexport const studentsActions = studentsSlice.actions;\nexport const studentsReducer = studentsSlice.reducer;\n","import { Id, LanguageEnum } from \"@routine-support/types\";\n\nexport type Token = string;\nexport type CoachId = Id;\n\nexport enum ColorEnum {\n  Yellow,\n  Purple,\n  Pink,\n  Red,\n  Mint,\n  Orange,\n  Brown,\n  DarkGreen,\n}\n\nexport type Student = {\n  _id: Id;\n  name: string;\n  coachId: CoachId;\n  color: ColorEnum;\n  pinCode: string;\n  clockType: ClockTypeEnum;\n  language: LanguageEnum;\n};\n\nexport type CreateStudentDto = {\n  name: string;\n  coachId: CoachId;\n  pinCode: string;\n  color: ColorEnum;\n  clockType: ClockTypeEnum;\n  language: LanguageEnum;\n};\n\nexport type LoginStudentDto = {\n  id: Id;\n};\n\nexport enum ClockTypeEnum {\n  Analog,\n  Digital,\n}\n","import { AxiosInstance, AxiosResponse } from \"axios\";\n\nimport {\n  ActivityFilter,\n  Week,\n  WeekNumber,\n  WeekSchema,\n  YearNumber,\n} from \"./types\";\nimport { createWeekFromSchema } from \"./utils\";\n\nexport const createWeekAPI = (client: AxiosInstance) => ({\n  getWeek: async (\n    year: YearNumber,\n    week: WeekNumber,\n    filter?: ActivityFilter\n  ): Promise<Week> => {\n    // todo resolve type\n    let filterParam: any = undefined;\n\n    if (filter) {\n      filterParam = [];\n\n      for (const key in filter) {\n        if (filter[key]) {\n          filterParam.push(key);\n        }\n      }\n\n      filterParam = filterParam.join(\",\");\n    }\n\n    const response: AxiosResponse<WeekSchema> = await client.get(\n      `/week/${year}/${week}`,\n      { params: { filter: filterParam } }\n    );\n\n    return createWeekFromSchema(response.data);\n  },\n});\n","export * from \"./api\";\nexport * from \"./slice\";\nexport * from \"./types\";\nexport * from \"./utils\";\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { Week } from \"./types\";\n\nexport interface WeekState {\n  week: Week | null;\n}\n\nconst initialState: WeekState = {\n  week: null,\n};\n\nexport const weekSlice = createSlice({\n  name: \"week\",\n  initialState,\n  reducers: {\n    setWeek: (state, action: PayloadAction<Week>) => {\n      state.week = action.payload;\n    },\n  },\n});\n\nexport const weekActions = weekSlice.actions;\nexport const weekReducer = weekSlice.reducer;\n","import {\n  createDayFromSchema,\n  Week,\n  WeekSchema,\n} from \"@routine-support/domains\";\nimport { createWeekInfoFromSchema } from \"./createWeekInfoFromSchema\";\n\nexport const createWeekFromSchema = (weekSchema: WeekSchema): Week => {\n  const week: Week = {\n    days: weekSchema.days.map(createDayFromSchema),\n    weekInfo: createWeekInfoFromSchema(weekSchema.weekInfo),\n  };\n\n  return week;\n};\n","import { WeekInfo, WeekInfoSchema } from \"@routine-support/domains\";\nimport { parseDate } from \"@routine-support/utils\";\n\nexport const createWeekInfoFromSchema = (\n  weekInfoSchema: WeekInfoSchema\n): WeekInfo => {\n  const weekInfo: WeekInfo = {\n    ...weekInfoSchema,\n    days: weekInfoSchema.days.map((day) => parseDate(day)),\n    timeRange: weekInfoSchema.timeRange,\n  };\n\n  return weekInfo;\n};\n","import { DateInfo } from \"@routine-support/domains\";\nimport moment, { Moment } from \"moment\";\n\nexport const dateInfoToMoment = (dateInfo: DateInfo): Moment => {\n  return moment().year(dateInfo.year).isoWeek(dateInfo.week);\n};\n","import { DateInfo } from \"@routine-support/domains\";\nimport moment from \"moment\";\nimport { getDateInfoFromMoment } from \"./getDateInfoFromMoment\";\n\nexport const getCurrentDateInfo = (): DateInfo => {\n  return getDateInfoFromMoment(moment());\n};\n","import { DateInfo } from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\n\nexport const getDateInfoFromMoment = (moment: Moment): DateInfo => {\n  return {\n    year: Number(moment.clone().get(\"year\")),\n    week: Number(moment.clone().format(\"W\")),\n  };\n};\n","import { DateInfo } from \"@routine-support/domains\";\nimport { serialize } from \"@routine-support/utils\";\n\nexport const getDateInfoQuery = (dateInfo: DateInfo): string => {\n  const query = serialize(dateInfo);\n\n  return query;\n};\n","import { DateInfo } from \"@routine-support/domains\";\nimport moment, { Moment } from \"moment\";\n\nexport const getDaysOfWeek = ({ week, year }: DateInfo): Moment[] => {\n  const monday = moment().year(year).day(\"Monday\").isoWeek(week);\n  const days = [monday];\n\n  for (let i = 1; i < 7; i++) {\n    const day = moment(monday).add(i, \"days\");\n\n    days.push(day);\n  }\n\n  return days;\n};\n","export { createWeekFromSchema } from \"./createWeekFromSchema\";\nexport { createWeekInfoFromSchema } from \"./createWeekInfoFromSchema\";\nexport { dateInfoToMoment } from \"./dateInfoToMoment\";\nexport { getCurrentDateInfo } from \"./getCurrentDateInfo\";\nexport { getDateInfoFromMoment } from \"./getDateInfoFromMoment\";\nexport { getDateInfoQuery } from \"./getDateInfoQuery\";\nexport { getDaysOfWeek } from \"./getDaysOfWeek\";\nexport { repeatActivity } from \"./repeatActivity\";\n","export { repeatActivity } from \"./repeatActivity\";\n","import { Activity, RepeatTypeEnum } from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\nimport { repeatActivityEveryDay } from \"./repeatActivityEveryDay\";\nimport { repeatActivityThisMonth } from \"./repeatActivityThisMonth\";\nimport { repeatActivityThisWeek } from \"./repeatActivityThisWeek\";\nimport { repeatActivityThisYear } from \"./repeatActivityThisYear\";\n\nexport const repeatActivity = (\n  activity: Activity,\n  currentWeek: Moment[]\n): Activity[] | Activity | undefined => {\n  switch (activity.repeatType) {\n    case RepeatTypeEnum.EveryDay:\n      return repeatActivityEveryDay(activity, currentWeek);\n    case RepeatTypeEnum.EveryWeek:\n      return repeatActivityThisWeek(activity, currentWeek);\n    case RepeatTypeEnum.EveryMonth:\n      return repeatActivityThisMonth(activity, currentWeek);\n    case RepeatTypeEnum.EveryYear:\n      return repeatActivityThisYear(activity, currentWeek);\n    default:\n      return;\n  }\n};\n","export { repeatActivityEveryDay } from \"./repeatActivityEveryDay\";\n","import { Activity } from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\n\nexport const repeatActivityEveryDay = (\n  activity: Activity,\n  daysOfCurrentWeek: Moment[]\n): Activity[] => {\n  const repeatedActivity: Activity[] = [];\n\n  daysOfCurrentWeek.forEach((day) => {\n    const shouldRepeatActivity = day.isSameOrAfter(activity.date);\n\n    if (shouldRepeatActivity) {\n      repeatedActivity.push({ ...activity, date: day });\n    }\n  });\n\n  return repeatedActivity;\n};\n","import { Moment } from \"moment\";\n\nexport const getDayNumbersFromWeek = (daysOfWeek: Moment[]): number[] => {\n  return daysOfWeek.map((day) => day.date());\n};\n","export { repeatActivityThisMonth } from \"./repeatActivityThisMonth\";\n","import { Activity } from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\nimport { getDayNumbersFromWeek } from \"./getDayNumbersFromWeek\";\n\nexport const repeatActivityThisMonth = (\n  activity: Activity,\n  daysOfCurrentWeek: Moment[]\n): Activity | undefined => {\n  const dayNumbersOfWeek = getDayNumbersFromWeek(daysOfCurrentWeek);\n  const activityDayNumber = activity.date.date();\n  const repeatActivityDayIndex = dayNumbersOfWeek.indexOf(activityDayNumber);\n  const shouldRepeatActivity = repeatActivityDayIndex !== -1;\n\n  if (shouldRepeatActivity) {\n    return { ...activity, date: daysOfCurrentWeek[repeatActivityDayIndex] };\n  }\n\n  return undefined;\n};\n","export { repeatActivityThisWeek } from \"./repeatActivityThisWeek\";\n","import { Activity } from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\n\nexport const repeatActivityThisWeek = (\n  activity: Activity,\n  daysOfCurrentWeek: Moment[]\n): Activity | undefined => {\n  // todo Решить проблемы с локалью в 22 задаче\n  const dayOfWeekIndex = activity.date.locale(\"ru\").weekday();\n  const repeatedActivityDate = daysOfCurrentWeek[dayOfWeekIndex];\n\n  const shouldRepeatActivity = repeatedActivityDate.isSameOrAfter(\n    activity.date\n  );\n\n  if (shouldRepeatActivity) {\n    return { ...activity, date: repeatedActivityDate };\n  }\n\n  return undefined;\n};\n","export { repeatActivityThisYear } from \"./repeatActivityThisYear\";\n","import { Activity } from \"@routine-support/domains\";\nimport { Moment } from \"moment\";\n\nexport const repeatActivityThisYear = (\n  activity: Activity,\n  daysOfCurrentWeek: Moment[]\n): Activity | undefined => {\n  const newActivityDate = daysOfCurrentWeek.find((day) =>\n    isSameDatesWithoutYear(day, activity.date)\n  );\n\n  if (newActivityDate && newActivityDate >= activity.date) {\n    return { ...activity, date: newActivityDate };\n  }\n\n  return undefined;\n};\n\nconst isSameDatesWithoutYear = (a: Moment, b: Moment) => {\n  const SPECIAL_DATE = \"29.02\";\n  const SPECIAL_DATE_YEAR_AFTER = \"01.03\";\n\n  const is_a_leap = a.isLeapYear();\n  const is_b_leap = b.isLeapYear();\n\n  if (is_a_leap && !is_b_leap) {\n    if (getDateStringWithoutYear(a) === SPECIAL_DATE) {\n      return getDateStringWithoutYear(b) === SPECIAL_DATE_YEAR_AFTER;\n    }\n  }\n\n  if (!is_a_leap && is_b_leap) {\n    if (getDateStringWithoutYear(b) === SPECIAL_DATE) {\n      return getDateStringWithoutYear(a) === SPECIAL_DATE_YEAR_AFTER;\n    }\n  }\n\n  return getDateStringWithoutYear(a) === getDateStringWithoutYear(b);\n};\n\nconst getDateStringWithoutYear = (date: Moment): string => {\n  return date.format(\"DD.MM\");\n};\n","export * from \"./lib/types\";\n","export type Id = string;\n\nexport type DateString = string;\nexport type TimeString = string;\nexport type TimeRange = TimeString[];\n\nexport type ImageUrl = string;\n\nexport type Pictogram = {\n  url: ImageUrl;\n  en: string;\n  nl: string;\n  ru: string;\n};\n\nexport type Email = string;\nexport type Password = string;\n\nexport type AuthQrCodeData = {\n  token: string;\n};\n\nexport type AuthQrCode = {\n  data: AuthQrCodeData;\n};\n\nexport interface FormError {\n  name: string;\n  message: string;\n}\n\nexport interface SubmitErrorData {\n  isValid: boolean;\n  errors?: FormError[];\n  error?: string;\n}\n\nexport enum LanguageEnum {\n  En = \"en\",\n  Nl = \"nl\",\n  Ru = \"ru\",\n}\n","export * from \"./lib\";\n","import { Moment } from \"moment\";\n\nexport const getMinutes = (time: Moment): number => {\n  return time.get(\"hours\") * 60 + time.get(\"minutes\");\n};\n","export { getMinutes } from \"./getMinutes\";\nexport { indexOfTimeRange } from \"./indexOfTimeRange\";\nexport { isToday } from \"./isToday\";\nexport { parseDate } from \"./parseDate\";\nexport { parseTime } from \"./parseTime\";\nexport { pxToNumber } from \"./pxToNumber\";\nexport { serialize } from \"./serialize\";\nexport { stringifyDate } from \"./stringifyDate\";\nexport { stringifyTime } from \"./stringifyTime\";\n","import { TimeRange } from \"@routine-support/types\";\nimport { Moment } from \"moment\";\n\nexport const indexOfTimeRange = (\n  timeRange: TimeRange,\n  time: Moment\n): number => {\n  return timeRange.findIndex((timeString) =>\n    new RegExp(`^${time.get(\"hours\")}:00`).test(timeString)\n  );\n};\n","import moment, { Moment } from \"moment\";\nimport { stringifyDate } from \"./stringifyDate\";\n\nexport const isToday = (date: Moment) => {\n  return stringifyDate(moment()) === stringifyDate(date);\n};\n","import { DATE_FORMAT } from \"@routine-support/constants\";\nimport { DateString } from \"@routine-support/types\";\nimport moment from \"moment\";\n\nexport const parseDate = (date: DateString) => moment(date, DATE_FORMAT);\n","import { TimeString } from \"@routine-support/types\";\nimport moment, { Moment } from \"moment\";\n\nexport const parseTime = (time: TimeString): Moment => {\n  const [hours, minutes] = time.split(\":\");\n  const newDate = moment().set({\n    hours: Number(hours),\n    minutes: Number(minutes),\n  });\n\n  return newDate;\n};\n","export const pxToNumber = (px: string) => {\n  return Number(px.split(\"px\")[0]);\n};\n","export const serialize = (obj: {\n  [key: string]: string | number | boolean;\n}): string => {\n  const str: string[] = [];\n\n  for (const p in obj) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (obj.hasOwnProperty(p)) {\n      str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n    }\n  }\n\n  return str.join(\"&\");\n};\n","import { DATE_FORMAT } from \"@routine-support/constants\";\nimport { Moment } from \"moment\";\n\nexport const stringifyDate = (date: Moment): string => {\n  return date.format(DATE_FORMAT);\n};\n","import { TIME_FORMAT } from \"@routine-support/constants\";\nimport { Moment } from \"moment\";\n\nexport const stringifyTime = (time: Moment): string => {\n  return time.format(TIME_FORMAT);\n};\n","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"body-parser\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"cors\");","module.exports = require(\"crypto\");","module.exports = require(\"dotenv\");","module.exports = require(\"express\");","module.exports = require(\"express-bearer-token\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"moment\");","module.exports = require(\"mongoose\");","module.exports = require(\"morgan\");","module.exports = require(\"path\");","module.exports = require(\"tslib\");"],"sourceRoot":""}